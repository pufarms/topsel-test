[Phase 1 검토 후 보완 요청]
Phase 1 작업 결과를 외부에서 검토했습니다. 아래 5가지를 확인하고 필요시 수정해 주세요.
작업 진행 상황 설명과 작업 결과는 항상 한글로 보여주세요.

⚠️ 기존 기능에 영향을 주지 않도록 주의하세요.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[확인 1] vendors 로그인 비밀번호 응답 노출 여부

vendors API 응답에서 loginPassword 필드가 제외되는지 확인해 주세요.
- GET /api/admin/vendors 목록 조회 응답
- GET /api/admin/vendors/:id 상세 조회 응답
- POST /api/admin/vendors 등록 후 응답
- PUT /api/admin/vendors/:id 수정 후 응답

모든 응답에서 loginPassword가 제외되어야 합니다.
만약 노출되고 있다면, 응답 객체에서 loginPassword를 제거하는 코드를 추가해 주세요.

예시:
const { loginPassword, ...vendorWithoutPassword } = vendor;
res.json(vendorWithoutPassword);

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[확인 2] product_vendors UNIQUE 제약조건 확인

product_vendors 테이블에 (productCode, vendorId) UNIQUE 제약조건이 설정되어 있는지 확인해 주세요.
동일 상품+동일 업체가 중복 등록되면 안 됩니다.

DB 스키마에서 확인하고, 만약 없다면 추가해 주세요.
또한 POST /api/admin/product-vendors API에서 중복 등록 시도 시
적절한 에러 메시지를 반환하는지도 확인해 주세요.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[확인 3] isVendorProduct 전파 누락 가능성

상품 전송 흐름에서 isVendorProduct가 정확히 전파되는지 확인해 주세요:

1. product_registrations.isVendorProduct = true로 설정
2. "차주예상공급가 전송" 실행 → next_week_products에 isVendorProduct가 true로 저장되는지?
3. "현재공급가 전송" 실행 → current_products에 isVendorProduct가 true로 저장되는지?

send-to-next-week API와 apply-current API의 INSERT/UPDATE 쿼리에서
isVendorProduct 필드가 포함되어 있는지 코드를 확인해 주세요.

만약 누락되어 있다면 추가해 주세요. 특히:
- next_week_products 삽입 시 isVendorProduct 포함 여부
- current_products 삽입 시 isVendorProduct 포함 여부

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[확인 4] 외주업체 공급가능 체크 해제 시 처리

상품등록 화면에서 "외주업체 공급 가능" 체크박스를 해제했을 때:
- isVendorProduct가 false로 업데이트되는지?
- 기존에 등록된 product_vendors 매핑 데이터는 어떻게 되는지?

권장 동작:
- isVendorProduct = false로 변경
- product_vendors 데이터는 삭제하지 않고 유지 (나중에 다시 활성화할 수 있으므로)
- 단, 외주업체 섹션 UI는 숨김 처리

현재 동작이 위와 다르다면 수정해 주세요.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[확인 5] productStocks 미존재 행 처리

배송중 전환 시 product_stocks에서 재고를 차감하는 로직에서,
해당 상품의 product_stocks 행이 존재하지 않는 경우를 처리하고 있는지 확인해 주세요.

Architect 리뷰에서도 지적된 사항입니다.
UPDATE product_stocks SET ... WHERE productCode = ? 실행 시
매칭되는 행이 0건이면 차감이 안 되는데, 이 경우:

- 경고 로그를 남기는지?
- 에러 없이 배송중 전환은 정상 진행되는지?

현재 코드를 확인하고, 로그가 없다면 추가해 주세요:
console.warn(`[재고차감] product_stocks에 해당 상품 없음: ${productCode}`);

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[결과 보고]
각 확인 항목별로 현재 상태와 수정 여부를 한글로 보고해 주세요:
- 확인 1: [현재 상태] → [수정 필요 여부]
- 확인 2: [현재 상태] → [수정 필요 여부]
- 확인 3: [현재 상태] → [수정 필요 여부]
- 확인 4: [현재 상태] → [수정 필요 여부]
- 확인 5: [현재 상태] → [수정 필요 여부]