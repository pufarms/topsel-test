# ìž‘ì—… ì§€ì‹œì„œ: ê´€ë¦¬ìž/íšŒì› ëŒ€ì‹œë³´ë“œ ë§¤ì¶œÂ·ë§¤ìž… í˜„í™©íŒ ë‚ ì§œ ê¸°ì¤€ ìˆ˜ì •

## ðŸ“‹ ë¬¸ì œì 

### ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ (`/admin`) - ë§¤ì¶œ í˜„í™© ì„¹ì…˜
í˜„ìž¬ 4ê°œ ì¹´ë“œ(ê¸ˆì¼ ì´ë§¤ì¶œ, ì „ì¼ ì´ë§¤ì¶œ, ì „ì›” ì´ë§¤ì¶œ, ì´ë²ˆë‹¬ ì´ë§¤ì¶œ)ì˜ ë‚ ì§œ ê¸°ì¤€ì´ ì •í™•í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- **ê¸ˆì¼ ì´ë§¤ì¶œ**ì— 471,630ì›ì´ í‘œì‹œë˜ëŠ”ë°, ì´ ë°ì´í„°ëŠ” ì–´ì œ(2/6) í…ŒìŠ¤íŠ¸í•œ ì£¼ë¬¸ ë°ì´í„°ìž„ â†’ ë‚ ì§œ ê¸°ì¤€ì´ ìž˜ëª» ì ìš©ë˜ì–´ ì–´ì œ ë°ì´í„°ê°€ ì˜¤ëŠ˜ë¡œ ì§‘ê³„ë˜ê³  ìžˆìŒ
- **ì „ì¼ ì´ë§¤ì¶œ**ì´ 0ì›ìœ¼ë¡œ í‘œì‹œë¨ â†’ ì–´ì œ ë°ì´í„°ê°€ ì—¬ê¸°ì— ë‚˜ì™€ì•¼ í•¨
- **ì „ì›” ì´ë§¤ì¶œ**, **ì´ë²ˆë‹¬ ì´ë§¤ì¶œ**ë„ ì •í™•í•œ ê¸°ê°„ ê³„ì‚°ì´ í•„ìš”

### íšŒì› ëŒ€ì‹œë³´ë“œ (`/dashboard`) - ìƒë‹¨ ë§¤ìž… í˜„í™©
- **ì§€ë‚œ ë‹¬ ë§¤ìž… ì´ì•¡**: "W0"ìœ¼ë¡œ í‘œì‹œë¨ â†’ ë°ì´í„° ì¡°íšŒ ë˜ëŠ” í‘œì‹œ ì˜¤ë¥˜
- **ì´ë²ˆ ë‹¬ ë§¤ìž… ì´ì•¡**: "W0"ìœ¼ë¡œ í‘œì‹œë¨ â†’ ë°ì´í„° ì¡°íšŒ ë˜ëŠ” í‘œì‹œ ì˜¤ë¥˜

---

## ðŸŽ¯ ìˆ˜ì • ë‚´ìš©

### 1. ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ - ë§¤ì¶œ í˜„í™© 4ê°œ ì¹´ë“œ

**ëª¨ë“  ë‚ ì§œ ê³„ì‚°ì€ í•œêµ­ ì‹œê°„(KST, UTC+9) ê¸°ì¤€ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.**

ì˜¤ëŠ˜ì´ 2026ë…„ 2ì›” 7ì¼(í† )ì´ë¼ê³  ê°€ì •í•œ êµ¬ì²´ì  ì˜ˆì‹œ:

| ì¹´ë“œ | ì¡°íšŒ ê¸°ê°„ (KST ê¸°ì¤€) | ì˜ˆì‹œ ë‚ ì§œ ë²”ìœ„ |
|------|---------------------|---------------|
| **ê¸ˆì¼ ì´ë§¤ì¶œ** | ì˜¤ëŠ˜ 00:00:00 ~ ì˜¤ëŠ˜ 23:59:59 | 2026-02-07 00:00:00 ~ 2026-02-07 23:59:59 |
| **ì „ì¼ ì´ë§¤ì¶œ** | ì–´ì œ 00:00:00 ~ ì–´ì œ 23:59:59 | 2026-02-06 00:00:00 ~ 2026-02-06 23:59:59 |
| **ì „ì›” ì´ë§¤ì¶œ** | ì§€ë‚œë‹¬ 1ì¼ 00:00:00 ~ ì§€ë‚œë‹¬ ë§ì¼ 23:59:59 | 2026-01-01 00:00:00 ~ 2026-01-31 23:59:59 |
| **ì´ë²ˆë‹¬ ì´ë§¤ì¶œ** | ì´ë²ˆë‹¬ 1ì¼ 00:00:00 ~ í˜„ìž¬ ì‹œì  | 2026-02-01 00:00:00 ~ í˜„ìž¬ ì‹œì  |

**í•µì‹¬ ì£¼ì˜: KST ì‹œê°„ëŒ€ ì²˜ë¦¬**

ì„œë²„(PostgreSQL)ê°€ UTCë¡œ ì €ìž¥í•˜ê³  ìžˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ì´ ê²½ìš° KST ê¸°ì¤€ "ì˜¤ëŠ˜"ì„ ì˜¬ë°”ë¥´ê²Œ ê³„ì‚°í•´ì•¼ í•©ë‹ˆë‹¤.

```
KST 2026-02-07 00:00:00 = UTC 2026-02-06 15:00:00
KST 2026-02-07 23:59:59 = UTC 2026-02-07 14:59:59
```

ì¦‰, KST ê¸°ì¤€ "ì˜¤ëŠ˜(2/7)"ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë ¤ë©´:
```sql
WHERE created_at >= '2026-02-06T15:00:00Z' AND created_at < '2026-02-07T15:00:00Z'
```

**í˜„ìž¬ ê¸ˆì¼ ì´ë§¤ì¶œì— ì–´ì œ ë°ì´í„°(471,630ì›)ê°€ ë‚˜ì˜¤ëŠ” ì´ìœ :**
ì„œë²„ì—ì„œ UTC ê¸°ì¤€ìœ¼ë¡œ "ì˜¤ëŠ˜"ì„ ê³„ì‚°í•˜ë©´ KSTì™€ 9ì‹œê°„ ì°¨ì´ê°€ ë‚˜ì„œ, KST ê¸°ì¤€ ì–´ì œ 15ì‹œ~23ì‹œ59ë¶„ ë°ì´í„°ê°€ UTC ê¸°ì¤€ "ì˜¤ëŠ˜"ì— í¬í•¨ë©ë‹ˆë‹¤. ë°˜ë“œì‹œ KST ë³´ì •ì„ ì ìš©í•´ì£¼ì„¸ìš”.

**ì„œë²„ ì¿¼ë¦¬ ì˜ˆì‹œ (PostgreSQL + KST ë³´ì •):**
```sql
-- ê¸ˆì¼ ì´ë§¤ì¶œ (KST ê¸°ì¤€ ì˜¤ëŠ˜)
SELECT COALESCE(SUM(total_price), 0) as today_sales
FROM pending_orders
WHERE created_at >= (CURRENT_DATE AT TIME ZONE 'Asia/Seoul') AT TIME ZONE 'Asia/Seoul'
  AND created_at < ((CURRENT_DATE + INTERVAL '1 day') AT TIME ZONE 'Asia/Seoul') AT TIME ZONE 'Asia/Seoul'
  AND status NOT IN ('ì·¨ì†Œ', 'íšŒì›ì·¨ì†Œ', 'ì£¼ë¬¸ì¡°ì •');

-- ë˜ëŠ” Node.jsì—ì„œ KST ë‚ ì§œë¥¼ ê³„ì‚°í•˜ì—¬ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬
```

**Node.jsì—ì„œ KST ë‚ ì§œ ê³„ì‚° ë°©ë²•:**
```javascript
function getKSTDateRange(type) {
  // í˜„ìž¬ KST ì‹œê°„
  const now = new Date();
  const kstNow = new Date(now.getTime() + (9 * 60 * 60 * 1000));
  
  // KST ê¸°ì¤€ ì˜¤ëŠ˜ ì‹œìž‘ (UTCë¡œ ë³€í™˜)
  const kstToday = new Date(kstNow.getFullYear(), kstNow.getMonth(), kstNow.getDate());
  const todayStartUTC = new Date(kstToday.getTime() - (9 * 60 * 60 * 1000));
  
  switch(type) {
    case 'today':
      return { start: todayStartUTC, end: new Date(todayStartUTC.getTime() + 24*60*60*1000) };
    case 'yesterday':
      const yesterdayStart = new Date(todayStartUTC.getTime() - 24*60*60*1000);
      return { start: yesterdayStart, end: todayStartUTC };
    case 'lastMonth':
      const lastMonthStart = new Date(kstNow.getFullYear(), kstNow.getMonth() - 1, 1);
      const lastMonthEnd = new Date(kstNow.getFullYear(), kstNow.getMonth(), 1);
      return { 
        start: new Date(lastMonthStart.getTime() - (9 * 60 * 60 * 1000)),
        end: new Date(lastMonthEnd.getTime() - (9 * 60 * 60 * 1000))
      };
    case 'thisMonth':
      const thisMonthStart = new Date(kstNow.getFullYear(), kstNow.getMonth(), 1);
      return { 
        start: new Date(thisMonthStart.getTime() - (9 * 60 * 60 * 1000)),
        end: now // í˜„ìž¬ ì‹œì ê¹Œì§€
      };
  }
}
```

**ë§¤ì¶œ ê³„ì‚° ì‹œ ì œì™¸í•  ì£¼ë¬¸:**
- ì·¨ì†Œëœ ì£¼ë¬¸ (status: 'ì·¨ì†Œ', 'íšŒì›ì·¨ì†Œ') ì œì™¸
- ì£¼ë¬¸ì¡°ì • ìƒíƒœ (status: 'ì£¼ë¬¸ì¡°ì •') ì œì™¸
- ì •ìƒ ì§„í–‰ ì£¼ë¬¸(ëŒ€ê¸°, ìƒí’ˆì¤€ë¹„ì¤‘, ë°°ì†¡ì¤€ë¹„ì¤‘, ë°°ì†¡ì¤‘)ê³¼ ì™„ë£Œëœ ì£¼ë¬¸ë§Œ ë§¤ì¶œì— í¬í•¨

**ê¸ˆì¼ ì´ë§¤ì¶œ ì¹´ë“œì˜ ì¦ê°ë¥ (+12.5%):**
- ì „ì¼ ëŒ€ë¹„ ê¸ˆì¼ ì¦ê°ë¥ : `((ê¸ˆì¼ - ì „ì¼) / ì „ì¼) * 100`
- ì „ì¼ ë§¤ì¶œì´ 0ì›ì´ë©´ ì¦ê°ë¥  í‘œì‹œí•˜ì§€ ì•Šê±°ë‚˜ "-" í‘œì‹œ

---

### 2. íšŒì› ëŒ€ì‹œë³´ë“œ - ë§¤ìž… í˜„í™© ì¹´ë“œ

**í˜„ìž¬ "W0"ìœ¼ë¡œ í‘œì‹œë˜ëŠ” ë¬¸ì œ ì›ì¸ í™•ì¸ í•„ìš”:**
- ê¸ˆì•¡ í¬ë§·íŒ… ì˜¤ë¥˜ ê°€ëŠ¥ì„±: "W" + "0" = "W0" â†’ ì˜¬ë°”ë¥¸ ì›í™” í‘œì‹œëŠ” "0ì›" ë˜ëŠ” "â‚©0" ë˜ëŠ” "0 ì›"
- ë°ì´í„° ì¡°íšŒ ìžì²´ê°€ ì•ˆ ë˜ê³  ìžˆì„ ê°€ëŠ¥ì„±
- API ì‘ë‹µê°’ í™•ì¸ í•„ìš”

| ì¹´ë“œ | ì¡°íšŒ ê¸°ê°„ (KST ê¸°ì¤€) | ì˜ˆì‹œ (2026ë…„ 2ì›” 7ì¼ ê¸°ì¤€) |
|------|---------------------|--------------------------|
| **ì§€ë‚œ ë‹¬ ë§¤ìž… ì´ì•¡** | ì§€ë‚œë‹¬ 1ì¼ 00:00:00 ~ ì§€ë‚œë‹¬ ë§ì¼ 23:59:59 | 2026-01-01 ~ 2026-01-31 |
| **ì´ë²ˆ ë‹¬ ë§¤ìž… ì´ì•¡** | ì´ë²ˆë‹¬ 1ì¼ 00:00:00 ~ í˜„ìž¬ ì‹œì  | 2026-02-01 ~ í˜„ìž¬ |

**ìˆ˜ì • ì‚¬í•­:**
1. APIì—ì„œ í•´ë‹¹ íšŒì›ì˜ ì£¼ë¬¸ ë°ì´í„°ë¥¼ ì •í™•í•œ KST ê¸°ê°„ìœ¼ë¡œ ì¡°íšŒ (ê´€ë¦¬ìžì™€ ë™ì¼í•œ KST ë³´ì • ì ìš©)
2. ê¸ˆì•¡ í¬ë§·íŒ… ìˆ˜ì •: "W0" â†’ "0ì›" (í•œêµ­ ì›í™” í‘œê¸° í†µì¼)
3. í•´ë‹¹ íšŒì›(ì„¸ì…˜ì˜ ë¡œê·¸ì¸ íšŒì›)ì˜ ì£¼ë¬¸ë§Œ í•„í„°ë§í•˜ì—¬ í•©ê³„ ê³„ì‚°
4. ì·¨ì†Œëœ ì£¼ë¬¸ì€ ë§¤ìž… ì´ì•¡ì—ì„œ ì œì™¸

**ë§¤ìž… ì´ì•¡ ê³„ì‚°:**
- í•´ë‹¹ íšŒì›ì´ ì£¼ë¬¸í•œ ê±´ ì¤‘ ì •ìƒ ì§„í–‰/ì™„ë£Œ ì£¼ë¬¸ì˜ (ë‹¨ê°€ Ã— ìˆ˜ëŸ‰) í•©ê³„
- ì·¨ì†Œ/ì£¼ë¬¸ì¡°ì • ê±´ ì œì™¸

---

## ðŸ”§ í™•ì¸ ë° ë””ë²„ê¹… í¬ì¸íŠ¸

1. **DBì—ì„œ ì£¼ë¬¸ ë°ì´í„°ì˜ created_at ê°’ì´ UTCì¸ì§€ KSTì¸ì§€ í™•ì¸**
   - PostgreSQL ê¸°ë³¸ì€ UTC â†’ KST ë³´ì • í•„ìˆ˜
   - ë§Œì•½ ì´ë¯¸ KSTë¡œ ì €ìž¥ë˜ì–´ ìžˆë‹¤ë©´ ë³´ì • ë¶ˆí•„ìš” (í•˜ì§€ë§Œ í™•ì¸ í•„ìš”)

2. **ë§¤ì¶œ/ë§¤ìž… ê³„ì‚°ì— ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸” í™•ì¸**
   - `pending_orders` í…Œì´ë¸”: ì§„í–‰ ì¤‘ì¸ ì£¼ë¬¸ (ëŒ€ê¸°~ë°°ì†¡ì¤‘)
   - `orders` í…Œì´ë¸”: ì™„ë£Œëœ ì£¼ë¬¸ ì•„ì¹´ì´ë¸Œ
   - ë§¤ì¶œ í•©ê³„ = pending_ordersì˜ ì •ìƒ ì£¼ë¬¸ + ordersì˜ ì™„ë£Œ ì£¼ë¬¸

3. **íšŒì› ëŒ€ì‹œë³´ë“œ "W0" í‘œì‹œ ë¬¸ì œ**
   - API ì‘ë‹µ ë°ì´í„° í™•ì¸ (null, undefined, 0 ì¤‘ ë¬´ì—‡ì¸ì§€)
   - í”„ë¡ íŠ¸ì—”ë“œ ê¸ˆì•¡ í¬ë§·íŒ… í•¨ìˆ˜ í™•ì¸ (ì›í™” í‘œì‹œ ë¡œì§)
   - "W"ê°€ ì–´ë””ì„œ ì˜¤ëŠ”ì§€ í™•ì¸ â†’ ì•„ë§ˆ í¬ë§· í•¨ìˆ˜ì—ì„œ â‚© ë˜ëŠ” Wë¥¼ prefixë¡œ ë¶™ì´ê³  ìžˆì„ ìˆ˜ ìžˆìŒ

---

## âœ… ì™„ë£Œ ê¸°ì¤€
- [ ] ê´€ë¦¬ìž ê¸ˆì¼ ì´ë§¤ì¶œ: KST ê¸°ì¤€ ì˜¤ëŠ˜ ì£¼ë¬¸ ë°ì´í„°ë§Œ ì§‘ê³„
- [ ] ê´€ë¦¬ìž ì „ì¼ ì´ë§¤ì¶œ: KST ê¸°ì¤€ ì–´ì œ ì£¼ë¬¸ ë°ì´í„°ë§Œ ì§‘ê³„
- [ ] ê´€ë¦¬ìž ì „ì›” ì´ë§¤ì¶œ: KST ê¸°ì¤€ ì§€ë‚œë‹¬ ì „ì²´ ì£¼ë¬¸ ë°ì´í„° ì§‘ê³„
- [ ] ê´€ë¦¬ìž ì´ë²ˆë‹¬ ì´ë§¤ì¶œ: KST ê¸°ì¤€ ì´ë²ˆë‹¬ 1ì¼~í˜„ìž¬ ì‹œì  ì£¼ë¬¸ ë°ì´í„° ì§‘ê³„
- [ ] ê´€ë¦¬ìž ì¦ê°ë¥ : ì „ì¼ ëŒ€ë¹„ ê¸ˆì¼ ë§¤ì¶œ ì¦ê°ë¥  ì •í™•ížˆ ê³„ì‚°
- [ ] íšŒì› ì§€ë‚œ ë‹¬ ë§¤ìž… ì´ì•¡: KST ê¸°ì¤€ ì§€ë‚œë‹¬ ì „ì²´, í•´ë‹¹ íšŒì› ì£¼ë¬¸ë§Œ ì§‘ê³„
- [ ] íšŒì› ì´ë²ˆ ë‹¬ ë§¤ìž… ì´ì•¡: KST ê¸°ì¤€ ì´ë²ˆë‹¬ 1ì¼~í˜„ìž¬, í•´ë‹¹ íšŒì› ì£¼ë¬¸ë§Œ ì§‘ê³„
- [ ] íšŒì› ëŒ€ì‹œë³´ë“œ ê¸ˆì•¡ í‘œì‹œ: "W0" â†’ "0ì›" ë“± ì˜¬ë°”ë¥¸ ì›í™” í¬ë§·
- [ ] ëª¨ë“  ë‚ ì§œ ê³„ì‚°ì´ KST(UTC+9) ê¸°ì¤€ìœ¼ë¡œ ì •í™•ížˆ ë™ìž‘
